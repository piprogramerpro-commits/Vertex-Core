<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Vertex Core | Proyect Gold</title>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <style>
        :root { --bg: #0b0b0d; --gold: #d4af37; --text: #efeff1; }
        body { margin: 0; font-family: 'Inter', sans-serif; background: var(--bg); color: var(--text); display: flex; height: 100vh; }
        #sidebar { width: 280px; background: #121214; border-right: 1px solid #222; padding: 30px; display: flex; flex-direction: column; }
        #main { flex: 1; display: flex; flex-direction: column; }
        #chat { flex: 1; overflow-y: auto; padding: 40px 15%; }
        .input-box { background: #1c1c1f; border: 1px solid #333; border-radius: 8px; padding: 15px; display: flex; margin: 20px 15%; }
        input { background: transparent; border: none; color: white; flex: 1; outline: none; }
        .quote-section { font-size: 12px; color: #555; font-style: italic; margin-top: 20px; border-top: 1px solid #222; padding-top: 10px; }
        .spark-tag { color: var(--gold); font-family: monospace; font-size: 12px; }
    </style>
</head>
<body>
    <div id="sidebar">
        <h2 style="color:var(--gold); margin-bottom: 5px;">VERTEX CORE</h2>
        <div id="user-info">
            <input type="text" id="email" value="gemo@vertex.com" style="font-size: 12px; color: #888; margin-bottom: 10px;">
            <div class="spark-tag">âš¡ ENERGY: <span id="sparks">--</span></div>
        </div>
        <div style="flex:1"></div>
        <div class="quote-section" id="quote">"La disciplina lo es todo."</div>
    </div>
    <div id="main">
        <div id="chat"></div>
        <div class="input-box">
            <button onclick="document.getElementById('file').click()" style="background:none; border:none; color:var(--gold); cursor:pointer;">ðŸ“Ž</button>
            <input type="file" id="file" style="display:none" onchange="upload()">
            <input type="text" id="msg" placeholder="Orden de sistema..." onkeypress="if(event.key=='Enter') send()">
        </div>
    </div>
    <script>
        const quotes = [
            "La disciplina lo es todo.",
            "El Ã©xito es la suma de pequeÃ±os esfuerzos repetidos dÃ­a tras dÃ­a.",
            "La soberanÃ­a tecnolÃ³gica es el Ãºnico camino al oro.",
            "En el caos, busca la oportunidad.",
            "La persistencia aniquila la resistencia."
        ];
        setInterval(() => {
            document.getElementById('quote').innerText = `"${quotes[Math.floor(Math.random()*quotes.length)]}"`;
        }, 10000);

        async function send() {
            const m = document.getElementById('msg');
            const res = await fetch('/ask', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({query: m.value, email: document.getElementById('email').value})
            });
            const d = await res.json();
            document.getElementById('chat').innerHTML += `<div>${marked.parse(d.vertex_response)}</div>`;
            document.getElementById('sparks').innerText = d.sparks;
            if(d.audio_url) new Audio(d.audio_url).play();
            m.value = '';
        }
    </script>
</body>
</html>
